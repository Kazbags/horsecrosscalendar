{% extends "layout.html" %}

{% block title %}
    {{ dept }}
{% endblock %}

{% block main %}
<!-- Equipment tables with toggle dropdowns -->
{% for key, value in itemcount.items() %}
<div class="dropdown show">
  <a class="btn btn-info dropdown-toggle" style="width:100%" href="#" role="button" id="button{{ key }}" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    {{ key }}
  </a>

    <table class="table table-striped" id="list{{ key}}">
            <thead>
                <tr>
                    <th style="width:20%">Type</th>
                    <th style="width:20%">Quantity</th>
                    <th style="width:50%">Item</th>
                </tr>
            </thead>

            <tbody>
                {% for item in itemcount.get(key)%}
              <tr>
                  {% for value in item %}
                  <td>
                  {{ value }}</td>
                  {% endfor %}
                  </tr>
                  {% endfor %}
            </tbody>
        </table>
</div>

<script>
var button = document.getElementById('button{{ key }}'); // Assumes element with id='button'

button.onclick = function() {
    var div = document.getElementById('list{{ key }}');
    if (div.style.display !== 'none') {
        div.style.display = 'none';
    }
    else {
        div.style.display = 'table';

    }
};
</script>

{% endfor %}

{% endblock %}
<!DOCTYPE html>
